<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no" />
  <meta name="description" content="AR Code 2RU2bSjXr" />
  <meta name="keywords" content="ar, code, 2RU2bSjXr, ar code, arcode, ar-code" />
  <meta name="robots" content="noindex" />
  <title>AR Code</title>

  <!-- Model Viewer oficial -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <link href="css/webar-loading.css" rel="stylesheet" />
  <link href="css/webarslam4.css" rel="stylesheet" />
</head>
<body>

<div id="container"></div>
<div id="overlay"><div id="splash"></div></div>

<div id="loadingIcon">
  <div id="loadingcontainer">
    <div class="loading"></div>
    <div id="detectionText">Detecção de ambiente AR</div>
  </div>
</div>

<div id="infotext">Aponte para uma superfície</div>

<div id="linkbutton">
  <span id="linktext" class="text-content">
    <strong>Carlos Dutra</strong><br />
  </span>
</div>

<div id="closingbutton"><strong>X</strong></div>

<!-- Fallback WebAR -->
<div id="immersivear">
  <div class="button-container">
    <model-viewer
      src="/files/AR-Code-1751948288578.glb"
      ios-src="/files/AR-Code-1751948288578.usdz"
      ar
      ar-modes="webxr scene-viewer quick-look"
      ar-scale="auto"
      bounds="tight"
      enable-pan
      reveal="auto"
      style="width: 100%; height: 100vh;">
    </model-viewer>
  </div>
</div>

<script>
  const iosURL = "/files/AR-Code-1751948288578.usdz";
  const androidIntent = `intent://arvr.google.com/scene-viewer/1.0?file=https://seusite.com.br/files/AR-Code-1751948288578.glb&mode=ar_preferred#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=https://seusite.com.br;end;`;

  const userAgent = navigator.userAgent || navigator.vendor || window.opera;

  if (/iPhone|iPad|iPod/.test(userAgent)) {
    // iOS → Quick Look (abre automático)
    window.location.href = iosURL;
  } else if (/android/i.test(userAgent)) {
    // Android → Scene Viewer
    window.location.href = androidIntent;
  }
</script>

<!-- Manter scripts se quiser WebAR para desktop -->
<script type="module" src="js/webar-slam-1.5.js"></script>

</body>
</html>
